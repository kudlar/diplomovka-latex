%%
\section{Funkcia programu}

Program Mediátor je implementáciou aplikaèného rámca pre problém sprostredkovania správ v protokole IPFIX 
\emph{(IP Flow Information Export (IPFIX) Mediation Problem)} vyvíjaný výskumnou skupinou MONICA sídliacou
v Laboratóriu poèítaèových sietí \emph{(CNL)} na Technickej univerzite v Ko¹iciach. Je súèas»ou meracej
architektúry SLAmeter, ktorej úlohou je pasívne meranie parametrov sie»ovej prevádzky na báze tokov. 
Na základe nameraných hodnôt urèuje triedu kvality slu¾ieb a Internetového pripojenia poskytovateµov 
Internetu. Trieda kvality vypovedá o dodr¾iavaní zmluvy o úrovni poskytovanej slu¾by - \emph{SLA}.

Komponentmi architektúry IPFIX (IP Flow Information Export) podµa RFC 5470~\citep{rfc5470}
sú exportéry a kolektory komunikujúce protokolom IPFIX.
Vzhµadom k trvalému rastu IP prevádzky v heterogénnych sie»ových prostrediach,
tieto exportér-kolektor systémy mô¾u vies» k problémom ¹kálovateµnosti. Naviac,
neposkytujú flexibilitu potrebnú pre ¹iroký rad meracích aplikácii.

Mediator v1.0 je aplikaèný rámec, ktorý poskytuje rozhranie pre rozmanité sprostredkovateµské procesy.
Sprostredkovateµské moduly Mediátora mô¾u z pohµadu manipulácie s dátami poskytova» agregáciu, koreláciu,
filtrovanie, anonymizáciu 
a iné úpravy záznamov o tokoch za úèelom ¹etrenia výpoètových zdrojov meracieho systému a vykonávania 
predspracovania úloh pre kolektor. Z hµadiska interoperability nástrojov rôznych vývojárov, mô¾u 
poskytova» konverziu z iných protokolov na IPFIX, respektíve zvy¹ova» spoµahlivos» exportov
napríklad prevodom z nespoµahlivého, bezspojovo orientovaného protokolu UDP na spoµahlivý SCTP. 

Program bol v roku 2013 vytvorený Rastislavom Kudlom v rámci jeho diplomovej práce.



\newpage
\section{S\'upis obsahu dod\'avky}

Program je dodávaný na jednom in¹talaènom CD médiu (Príloha C - CD), ktoré obsahuje nasledujúce súèasti:

\begin{itemize}
 \item zdrojové súbory programu
 \item samostatne spustiteµné binárne súbory
 \item kni¾nice potrebné pre funkènos» programu
 \item DEB in¹talaèný balík
 \item dokumentáciu zlo¾enú z:
	\subitem diplomovej práce (PDF,  \LaTeX)
	\subitem systémovej príruèky (PDF, \LaTeX)
	\subitem tejto pou¾ívateµskej príruèky (PDF, \LaTeX)
\end{itemize}



\newpage
\section{In\v{s}tal\'acia programu}



\subsection{Po\v{z}iadavky na technick\'e prostriedky}

Spoµahlivý beh samotného programu si vy¾aduje nasledovnú hardvérovú konfiguráciu:
\begin{itemize}
  \item CPU Intel Pentium III 1Ghz alebo ekvivalent
  \item operaèná pamä» 256MB 
  \item pevný disk s~1GB a viac voµného miesta 
  \item sie»ová karta 100Mbit/s 
\end{itemize}
Program pre spoµahlivý beh vy¾aduje minimálne 32MB voµnej pamäte RAM. Nain¹talovaný program zaberá 
pribli¾ne 3.9MB na pevnom disku. Uvedené voµné miesto na pevnom disku je potrebné, kvôli logovacím výstupom.
Je potrebné si uvedomi», ¾e pri prepínaèi \verb|--logtofile| program loguje do \verb|/var/log/mediator/| a pri 
nastavenej úrovni logovania DEBUG, mô¾u logovacie súbory ma» znaènú veµkos». Pri dosiahnutí veµkosti 100MB 
sa obsah log súboru zálohuje a skomprimuje. Archivuje sa posledných 10 rotácií (1GB log výstupu).
Monitorovanie rozsiahlej¹ej siete (napr. sie» poskytovateµa komunikaèných slu¾ieb) si vy¾aduje podstatne 
vy¹¹ie hardvérové nároky.



\subsection{Po\v{z}iadavky na programov\'e prostriedky}
\begin{itemize}
\item operaèný systém GNU/Linux s~verziou jadra 2.6 a vy¹¹ou
\item Java Runtime Environment (JRE) verzie 1.7.0\_03 a~vy¹¹ej
\item kni¾nice dodávané na in¹talaènom médiu
\end{itemize}



\subsection{Vlastn\'a in\v{s}tal\'acia}

Vlastná in¹talácia sa skladá z~in¹talácie DEB balíka v~prostredí operaèného systému Ubuntu alebo Debian. 
V~prostredí iného operaèného systému in¹talácia pozostáva z~nakopírovania spustiteµného Java archívu 
(\verb|mediator.jar|) do~prieèinka podµa vlastnej voµby spoloène s~adresárom kni¾níc. Následne treba do 
tohto prieèinka nakopírova» súbor popisujúci podporované informaèné elementy protokolu IPFIX programom 
Mediator (\verb|ipfixFields.xml|) a uká¾kový konfiguraèný súbor (\verb|config.xml|), ktorý je 
potrebné upravi» pre vlastné prostredie meraní. 




\subsubsection{In\v{s}tal\'acia Java 7 pod OS Ubuntu/Debian}

\verb|sudo apt-get update|\\
\verb|sudo apt-get install openjdk-7-jre-headless|



\subsubsection{In\v{s}tal\'acia samotnej aplik\'acie Mediator pod OS Ubuntu/Debian}

In¹talácia je veµmi jednoduchá. Staèí stiahnu» in¹talaèný DEB balík zo SVN repozitára:\\
\verb|wget https://svn.cnl.tuke.sk/monica/BasicMeter/Mediator/deb/mediator| \\
\verb|_1.0_i386.deb --no-check-certificate|

Spusti» stiahnutý DEB balík pomocou príkazu
\begin{center}
\verb|sudo dpkg -i mediator_1.0_i386.deb|
\end{center}

Nakoniec je potrebné nastavi» konfiguraèný súbor \verb|/etc/mediator/config.xml|. Najdôle¾itej¹ie 
je nastavi» správny port, na ktorom bude Mediator oèakáva» IPFIX správy a parametre exportovacieho procesu.
Nemenej dôle¾itá je konfigurácia sprostredkovateµských procesov.




\newpage
\section{Pou\v{z}itie programu}

Mediator je konzolová aplikácia. Spustenie programu na operaèných systémoch Ubuntu/Debian pri in¹talácii 
pomocou DEB balíka je nasledovné:
\begin{center}
\texttt{mediator [/cesta/ku/konf./súboru/config.xml] [--logtofile]}\\
\end{center}

Ak sa nezadá cesta ku konfiguraènému súboru, resp. súbor sa na zadanej ceste nenachádza, aplikácia 
oznámi túto situáciu pou¾ívateµovi a 
automaticky hµadá konfiguraèný súbor v \verb|/etc/mediator/config.xml|. Ak konfiguraèný
súbor nie je nájdený ani na východiskovom mieste, aplikácia skonèí s~chybovým hlásením.  

Ak zadáme nepovinný argument \verb|--logtofile|, výstup programu bude presmerovaný do log súboru
\begin{center}
\texttt{/var/log/mediator/YYYYMMDD-HHmmss/mediator.log } ,
\end{center}
kde Y-rok, M-mesiac, D-deò, H-hodina, m-minúta, s-sekunda spustenej in¹tancie programu Mediator v1.0.


\bigskip
Ak pou¾ívateµ nie je \emph{root}, je potrebné ma» v~systéme pridelené \emph{sudo} právo a Mediátor 
spusti» príkazom:

\begin{center}
\texttt{sudo mediator [/cesta/ku/konf./súboru/config.xml] [--logtofile]}\\
\end{center}

\bigskip
Tak ako väè¹ina aplikácií v~prostredí operaèného systému Linux, aj Mediátor má k~dispozícii manuálové 
stránky (man), ktoré je mo¾né zobrazi» pomocou príkazov:

\begin{center}
\texttt{man mediator}\\
\end{center}

\begin{center}
\texttt{man mediator\_config}\\
\end{center}

\bigskip
V~prostredí iného operaèného systému ako Ubuntu/Debian, alebo pri potrebe manuálneho spustenia, sa 
program spú¹»a pomocou Java interpretéra s~voliteµným parametrom pozostávajúcim z~cesty (relatívnej alebo 
absolútnej) ku konfiguraènému súboru a s voliteµným prepínaèom \verb|--logtofile|:
\begin{center}
\texttt{java -jar mediator.jar [/cesta/ku/konf./súboru/config.xml] [--logtofile]}\\
\end{center}


Ïal¹ou podmienkou spustenia programu Mediator je súbor \emph{ipfixFields.xml}. Cesta k~tomuto súboru sa 
nastavuje v~konfiguraènom súbore \emph{config.xml}. Ak pri spustení sa súbor ipfixFields nenachádza 
v~adresári definovanom v~konfiguraènom súbore, aplikácia skonèí s~chybovým hlásením.
V~prípade absencie riadku s~cestou k~\emph{ipfixFields.xml} v~konfiguraènom súbore, Mediátor automaticky 
predpokladá túto cestu: \texttt{/etc/mediator/ipfixFields.xml}. 
Ak sa ani tu XML súbor nenachádza, Mediátor ukonèí svoju èinnos». Bez tohto súboru nie je mo¾né rozpozna» 
údaje z~prijatých IPFIX paketov.




\subsection{Popis dial\'ogu s~pou\v{z}\'ivate\v{l}om}

Keï¾e program je konzolová aplikácia, neposkytuje ¾iadne grafické zobrazenie dialógu pre pou¾ívateµa. 
Chybové a informaèné hlásenia sú zobrazované v~rovnakej konzole v~ktorej bol program spustený, prípadne 
v~log súbore ak bol program spustený s~voliteµným argumentom \verb|--logtofile|.

Ukonèenie programu sa vykoná stlaèením kombinácie kláves \verb|CTRL-c| alebo poslaním signálu 
\emph{SIGTERM} alebo \emph{SIGINT} konkrétnemu procesu:
\begin{center}
\texttt{kill -SIGTERM pid\_procesu\_mediator}\\
\end{center}




\subsection{Popis konfigura\v{c}n\'eho s\'uboru}

Východiskový adresár, kde sa nachádza konfiguraèný súbor je \verb|/etc/mediator/|. Jednotlivé konfiguraèné 
parametre sa triedia podµa typu modulov, ktorých sa nastavenia týkajú. Tieto typy ako aj zoznam v¹etkých 
mo¾ných parametrov, ich popis, ¹tandardné hodnoty a mo¾né voµby sa nachádzajú v~Tabuµkách 
\ref{tbl:conf1} a \ref{tbl:conf2}. V~prípade, ¾e daná hodnota pre 
akýkoµvek parameter nie je uvedená v~konfiguraènom súbore, parameter sa nastaví na ¹tandardnú hodnotu. 
Uká¾kový konfiguraèný súbor na in¹talaènom médiu obsahuje pribli¾né popisy parametrov a ich ¹tandardné 
hodnoty. 
Parameter sa zapisuje vo formáte: 
\begin{center}
\verb|<meno_parametra>hodnota</meno_parametra>|\\
\end{center}
Výnimku tvorí len konfigurácia sprostredkovateµských procesov. Tie sa zapisujú vo formáte:\\
\verb|  <process name="ExampleProcess">|\\
\verb|    <input>exporter</input>|\\
\verb|  </process>|\\

Konfiguraèný súbor mô¾e obsahova» komentár, ktorý musí by» ohranièený znakmi: 
\begin{center}
\texttt{$<$!-- komentár --$>$ }\\
\end{center}



\begin{sidewaystable}[ht]
\tabcolsep=4pt 
\caption{Voµby konfiguraèného súboru 1}
\renewcommand{\arraystretch}{0.3}
\begin{center}
  \begin{tabular}{|p{4.1cm}|p{2.6cm}|p{7.4cm}|p{7.5cm}|}
% {|p{2cm}|p{1.7cm}|p{4cm}|p{4cm}|}
    \hline
    \textbf{Parameter} & \textbf{©tandardná hodnota}  & \textbf{Prípustné hodnoty}  & \textbf{Popis}\\
    \hline
    \hline
    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} V¹eobecné nastavenia celého programu (global)} \\
    \hline
    logLevel & ERROR & ALL, DEBUG, INFO, WARN, TRACE, ERROR, FATAL, OFF & úroveò logovania programu\\
    \hline
    ipfixFieldsXML & /etc/mediator/\newline ipfixFields.xml & platná cesta v~rámci súborového systému & 
    cesta k~XML súboru popisujúceho IPFIX informaèné elementy\\
    \hline
    ipfixTemplateTimeout & 300 & prirodzené celé èíslo väè¹ie ako 0 & èas, po ktorom sa ¹ablóna pre IPFIX 
    paket pova¾uje za neplatnú\\
    \hline  
    observationDomainID & 1 & prirodzené celé èíslo väè¹ie ako 0 & ID pozorovacej domény\\
    \hline  
    \hline  
    
    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} Zhroma¾ïovací modul (collecting)} \\
    \hline
    listenPort & 6666 &  prir. èíslo z~intervalu $<$0-65535$>$  (kt. nie je obsadené) & port, na ktorom 
    be¾í vlákno èítajúce dáta zo siete\\
    \hline 
    receiveUDP  & yes & yes, no & príjem pomocou transportného protokolu UDP\\
    \hline
    \hline
    
    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} Modul pre sprostredkovateµské procesy (processes)} \\
    \hline
    name & -- & názov hlavnej triedy sprost. procesu v balíku IntermediateProcesses & meno sprostredkovateµského procesu \\
    \hline
    input & -- & exportér, názov hlavnej triedy sprost. procesu v balíku IntermediateProcesses & názov procesu, od ktorého tento proces prijíma záznamy o 
    tokoch. hodnota je buï exportér, alebo akýkoµvek sprostredkovateµský proces - jeho \uv{name}  \\
    \hline
   \end{tabular}
  \label{tbl:conf1}
\end{center}
\end{sidewaystable}



\begin{sidewaystable}[ht]
\tabcolsep=4pt 
\caption{Voµby konfiguraèného súboru 2}
\renewcommand{\arraystretch}{0.3}
\begin{center}
  \begin{tabular}{|p{4cm}|p{2.3cm}|p{6cm}|p{9cm}|}
% {|p{2cm}|p{1.7cm}|p{4cm}|p{4cm}|}
    \hline
    \textbf{Parameter} & \textbf{©tandardná hodnota}  & \textbf{Prípustné hodnoty}  & \textbf{Popis}\\
    \hline
    \hline

    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} Exportovací proces (exporting)} \\
    \hline
    version & 10 & 10 & verzia IPFIX protokolu\\
    \hline
    host & 127.0.0.1 & názov alebo IP adresa kolektora/iného mediátora & IP adresa IPFIX kolektora/mediátora\\
    \hline
    port & 4739 & prir. èíslo z~intervalu $<$0-65535$>$  (kt. nie je obsadené) & port, na ktorom poèúva 
    kolektor/iný mediátor\\
    \hline
    protocol & UDP & UDP & názov transportného protokolu\\
    \hline
    refreshTemplateTime & 5 & prirodzené celé èíslo väè¹ie ako 0 & èas (s) po ktorom Mediator exportuje 
    príslu¹nú ¹ablónu (ak sa nastaví vy¹¹ia hodnota ako je v exportéri, tak reálne platí hodnota daná 
    exportérom)\\
    \hline
    exportTime & RENEW & KEEP, RENEW & spôsob, akým Mediator narába s èasom v poli hlavièky správy - \uv{exportTime}\\
    \hline 
    \hline 
    
    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} Expertné nastavenia (expertsOnly)} \\
    \hline
    packetCacheSize & 25 & prirodzené celé èíslo väè¹ie ako 0 & veµkos» cache pre IPFIX pakety na vstupe \\
    \hline
    inputBufferSize & 75 & prirodzené celé èíslo väè¹ie ako 0 & veµkos» vstupného buffera 
    sprostredkovateµských procesov\\
    \hline
    exportCacheSize & 25 & prirodzené celé èíslo väè¹ie ako 0 & veµkos» exportovacej cache\\
    \hline
    maxInputPacketSize & 65540 & prirodzené celé èíslo väè¹ie ako 0 & maximálna povolená veµkos» jedného 
    IPFIX paketu\\
    \hline
  \end{tabular}
  \label{tbl:conf2}
\end{center}
\end{sidewaystable}



\clearpage

\subsection{Popis spr\'av pre syst\'emov\'eho program\'atora}
Poèas behu programu sa vypisujú rôzne hlásenia od chybových a¾ po informaèné. Logovací
subsystém programu je mo¾né inicializova» rôznymi úrovòami. Ich popis je uvedený
v~Tabuµke~\ref{tbl:log}. Ka¾dá úroveò zahàòa v~sebe aj úrovne na ni¾¹om stupni, tak¾e napr. pre úroveò
ERROR sa budú zobrazova» aj hlásenia typu FATAL. Na~reálnu prevádzku je vhodné nastavi» úroveò ERROR.

\begin{table}[ht]
\tabcolsep=4pt  
\caption{Logovacie úrovne programu}
\begin{center}
  \begin{tabular}{|l|p{11cm}|}
    \hline
    \textbf{Typ hlásenia} & \textbf{Popis}\\
    \hline
    ALL & vypisuje sa v¹etko\\
    \hline
    DEBUG & zobrazujú sa kompletné výpisy celého diania v~programe\\
    \hline
    INFO  & program informuje o~svojej èinnosti a~akcii, INFO ktorú práve vykonáva\\
    \hline
    WARN  & vypí¹u sa informácie o~upozorneniach programu na mo¾né chyby alebo zlú interpretáciu vstupných dát\\
    \hline
    TRACE & zobrazia sa informácie o~stave programu\\
    \hline
    ERROR & sú vypísané hlásenia chýb majúcich vplyv na dáta\\
    \hline
    FATAL & hlásenia, ktoré sú pre beh programu smrteµné a~zvyèajne znamenajú nezotaviteµnú chybu programu\\
    \hline
    OFF & vypnú sa v¹etky hlásenia programu\\
    \hline
  \end{tabular}
 \end{center}

  \label{tbl:log}
\end{table}




\section{Obmedzenia programu}

Program sa bude na pomal¹ích poèítaèoch jednoznaène pomal¹ie spú¹»a», keï¾e Java je jazyk
interpretovaný a~be¾iaci vo vlastnom virtuálnom stroji. Rýchlos» programu tie¾ závisí na mno¾stve 
prijatých dát. 




\newpage
\section{Chybov\'e hl\'asenia}

Poèas pou¾ívania programu mô¾e dôjs» k~nasledujúcim chybám. Èasové známky boli odstránené kvôli zvý¹eniu 
prehµadnosti. Keï¾e niektoré triedy Mediátora sú kvôli jednotnosti rie¹ení v rámci výskumnej skupiny 
MONICA toto¾né s triedami nastroja JXColl, v~nasledujúcich èastiach budú uvedené len tie chyby, ktoré sa 
týkajú výhradne Mediátora.

\noindent \textbf{Chyba:} 
\begin{verbatim}
INFO  [main] Config  - Loading config file: /zla/cesta/ku/config.xml
ERROR [main] Config  - Could not load config file: /zla/cesta/ku/config.xml !
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Nie je mo¾né naèíta» konfiguraèný súbor. Treba sa uisti», èi súbor \verb|/etc/mediator/mediator.conf| existuje, 
alebo èi je k~nemu správne zadaná cesta.\\


\noindent \textbf{Chyba:} 
\begin{verbatim}
ERROR [UDP Server] PacketCache - PacketCache is full (SIZE). DROPING PACKETS.

ERROR [UDP Processor] FlowRecordDispatcher - ExportCache je plna. Zahadzujem flow records.

ERROR [UDP Processor] FlowRecordDispatcher - InputBuffer procesu () je plny. Zahadzujem flow 
records.
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Príslu¹ná cache pamä», alebo buffer sú preplnené. Záznamy o tokoch, alebo IPFIX pakety sa zahadzujú.
Treba zvý¹i» kapacitu príslu¹nej pamäte.\\


\noindent \textbf{Chyba:} 
\begin{verbatim}
ERROR [main] IPLoader - SecurityException occured: (MESSAGE)

ERROR [main] IPLoader - IllegalAccessException occured: (MESSAGE)
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
©pecifické chyby, ktoré nastali pri dynamickom naèítavaní sprostredkovateµských procesov. Ich rie¹enie je 
individuálne podµa chybovej hlá¹ky.\\

\clearpage
\noindent \textbf{Chyba:} 
\begin{verbatim}
ERROR [main] IPLoader - Class (NAME) not found.
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Chyba, ktorú vyvolalo dynamické naèítavanie sprostredkovateµských procesov. Proces s definovaným menom 
neexistuje. Treba skontrolova» konfiguraèný súbor, a nastavi» ho tak, ¾e v¹etky mená procesov budú 
zodpoveda» menám hlavných tried procesov.\\

\noindent \textbf{Chyba:} 
\begin{verbatim}
ERROR [main] IPLoader - Missing method 'start' in process (NAME)
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Sprostredkovateµský proces neobsahuje metódu \verb|start()|. Treba skontrolova», èi sprostredkovateµský
proces dedí od triedy AIntermediateProcess. Tá dedí od Thread, ktorý implementuje metódu \verb|start()|.\\

\noindent \textbf{Chyba:} 
\begin{verbatim}
ERROR [main] IPLoader - Error while invoking method 'start' in process ().
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Nastala ¹pecifická chyba pri inicializovaní vlákna - sprostredkovateµského procesu. Rie¹enie je 
individuálne podµa chybovej hlá¹ky.\\

\noindent \textbf{Chyba:} 
\begin{verbatim}
FATAL [main] Mediator - Some of the intermediate processes could not load properly.
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Chyba je vyhodená spolu s inou, vy¹¹ie spomínanou chybou týkajúcou sa dynamického naèítavania (trieda
\verb|IPLoader|). Pôvodná chyba odhalí príèinu a následné rie¹enie problému.\\

\clearpage
\noindent \textbf{Chyba:} 
\begin{verbatim}
WARN [main] Mediator - Too many arguments! Logging to console and using default config file from 
/etc/mediator
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Boli zadané viac ako 2 argumenty príkazového riadka.\\


\noindent \textbf{Chyba:}
\begin{verbatim}
FATAL [main] IpfixElements - XML file "/etc/mediator/ipfixFields.xml" 
	was not found!
FATAL [main] Mediator - Mediator could not start because of an error while 
	processing XML file!
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Nena¹iel sa ipfixFields.xml súbor, ktorý slú¾i na rozpoznanie údajov z~IPFIX paketu. 
Treba sa uisti», èi sa súbor nachádza v~prieèinku definovanom v~konfiguraènom súbore alebo v~predvolenej 
ceste (\emph{/etc/mediator/ipfixFields.xml}).\\


\noindent \textbf{Chyba:}
\begin{verbatim}
FATAL [main] Mediator - Listen port (PORT) is already used, another instance of Mediator might 
be running!
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Port, na ktorom Mediator prijíma pakety je obsadený iným programom, alebo iným Mediátorom. Treba skontrolova»
be¾iace procesy a keï ide o inú in¹tanciu Mediátora, tak je treba zastavi». V opaènom prípade je 
potrebne nastavi» iný \emph{listenPort}.\\


\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [] AIntermediateProcess - Datatype (DATATYPE) unsupported!
ERROR [] - Error while encoding dataRecord. Some of the data fields can not be encoded.

ERROR [] AIntermediateProcess  - The boolean dataType should be only true(1) or false(0), but
is: (VALUE)
ERROR [] - Error while encoding dataRecord. Some of the data fields can not be encoded.

ERROR [] AIntermediateProcess  - Cannot encode type (DATATYPE): value is out of bounds  (VALUE)
ERROR [] - Error while encoding dataRecord. Some of the data fields can not be encoded.

...
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Nastala chyba pri kódovaní. V prípade prvej chyby je chyba buï v súbore ipfixFields.xml, alebo boli
od exportéra prijaté zlé dáta. V prípade ostatných chýb boli na export poslané chybné hodnoty, ktoré sú 
mimo povolený rozsah.\\


\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [] AIntermediateProcess - Error in getInstance: Could not instantiate object for class 
(CLASS): (MESSAGE)

ERROR [] AIntermediateProcess - Error in getInstance: Could not register singleton (CLASS).

ERROR [] AIntermediateProcess - SecurityException occured: (MESSAGE)
\end{verbatim}
\textbf{Popis a~rie¹enie:}
©pecifické chyby, ktoré boli vyvolané pri pokuse o získanie jedineènej in¹tancii sprostredkovateµského
procesu. Chyby majú individuálne rie¹enie podµa chybovej hlá¹ky.\\


\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [] AIntermediateProcess - Element with ID: (IEID, ENTERPRISE) is not supported, 
skipped! Update XML file!

ERROR [] AIntermediateProcess - i.e. (IENAME) (DATATYPE) - received data has wrong datatype! 
(SIZE) bytes
ERROR [] AIntermediateProcess - Skipping this element decoding!

ERROR [] AIntermediateProcess - i.e. (IENAME) Cannot decode datatype: (DATATYPE)
ERROR [] AIntermediateProcess - Skipping this element decoding!
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Nastala chyba pri dekódovaní. V¹etky chyby naznaèujú, ¾e je chyba buï v neaktuálnom súbore 
ipfixFields.xml, alebo boli od exportéra prijaté chybné dáta.\\

\clearpage
\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [] AIntermediateProcess - Error while encoding dataRecord. Template defines more fields than 
number of data values present.
ERROR [ExampleProcess] ExampleProcess - No dataRecords in Flow Record -> not dispatching.

ERROR [] AIntermediateProcess - Error while encoding dataRecord. Some of the data fields can not 
be encoded.
ERROR [ExampleProcess] ExampleProcess - No dataRecords in Flow Record -> not dispatching.
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Prijatý záznam o tokoch, ktorý ma byt posunutý dispeèerovi záznamov (\verb|FlowRecordDispatcher|) 
neobsahuje ¾iaden dátový záznam. Nemá význam ho ïalej distribuova» a preto je zahodený. Príèinou je buï 
to, ¾e na zakódovanie dátového záznamu bolo poslaných menej hodnôt ako predpisuje ¹ablóna, alebo
nastala ¹pecifická chyba pri kódovaní.\


\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [UDP Server] UDPServer - Interrupted via InterruptedIOException

ERROR [UDP Server] UDPServer - Interrupted while putting data into PacketCache!
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Do¹lo k preru¹eniu UDP Servera. Chyba má individuálne rie¹enie podµa chybovej hlá¹ky.\\

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [UDP Exporter] UDPExporter - Error while creating socket: (MESSAGE)
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Nastala chyba pri vytváraní UDP socketu. Chyba má individuálne rie¹enie podµa chybovej hlá¹ky.\\


\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [UDP Exporter] UDPExporter - (MESSAGE) --> INTERRUPTING UDPEXPORTER

\end{verbatim}
\textbf{Popis a~rie¹enie:}
Do¹lo k preru¹eniu UDP Exportéra. Chyba má individuálne rie¹enie podµa chybovej hlá¹ky.\\


\noindent \textbf{Chybové hlásenia súvisiace s~Java Virtual Machine (JVM)}\\
\noindent Program je interpretovaný v~Java Virtual Machine.
Chyby, ktoré mô¾u nasta» a~nie sú o¹etrené vlastnými chybovými hláseniami programu sú
chyby, ktoré boli nepredvídané a~sú µahko rozoznateµné tým, ¾e nie sú formátované v~¹týle
loggera a~zvyèajne sú oznaèené ako Java Error alebo Exception. Obyèajne sa vypí¹e aj èas»
zásobníka. Be¾ne sú to tri riadky v~hierarchii volania danej metódy, ktorá takto zlyhala.
Takéto chyby znamenajú po¹kodenie funkcie programu a~je nutné ho re¹tartova». Chybu je
mo¾né opravi» len v~zdrojovom kóde, teda sa berie ako programátorská chyba.\\

\subsection{Opis známych chýb}
V~súèasnosti neboli v~programe Mediator v1.0 nájdené vá¾ne chyby.




\newpage
\section{Pr\'iklad pou\v{z}itia}

Program je mo¾né pou¾i» ako sprostredkovaciu entitu medzi dvomi nástrojmi. Prvý z nich je 
zariadenie alebo softvér, ktorý je schopný exportova» informácie o~tokoch v~sieti vo formáte IPFIX. 
Takéto zariadenie mô¾e by» napr. Cisco smerovaè schopný exportu IPFIX dát, alebo podla IPFIX architektúry 
zariadenie s názvom exportér - z~modulov SLAmetra ide o BEEM. Druhým nástrojom je podla IPFIX architektúry
zariadenie predstavujúce zhroma¾ïovací proces, teda kolektor. V prípade SLAmetra máme na mysli JXColl.

Po naimplementovaní vhodných sprostredkovateµských modulov mô¾e Mediator vykonáva» rôzne predvýpoètové 
funkcie pre kolektor. Spomeòme napríklad agregáciu, koreláciu, filtrovanie, selekciu èi anonymizáciu.



\addcontentsline{toc}{section}{\numberline{}Zoznam pou¾itej literatúry}
\begin{thebibliography}{999}

\harvarditem{Sadasivan, et al.}{2009}{rfc5470}
SADASIVAN, G. et al.: \emph{Architecture for IP Flow Information Export} 
RFC 5470. 2009

\harvarditem{Vere¹èák}{2012}{jxcoll_sp}
VERE©ÈÁK, T.: Optimalizácia zhroma¾ïovacieho procesu nástroja BasicMeter, 2012,
Diplomová práca, Príloha A, Systémová príruèka JXColl v3.9, KPI FEI TU, Ko¹ice

\harvarditem{Pekár}{2009}{ado_bc}
PEKÁR, A.: Meranie prevádzkových parametrov siete v~reálnom èase, 2009,
Bakalárska práca, KPI FEI TU, Ko¹ice

\harvarditem{Pekár}{2011}{ado_dp}
PEKÁR, A.: Optimalizácia zhroma¾ïovacieho procesu nástroja BasicMeter, 2011,
Diplomová práca, KPI FEI TU, Ko¹ice
\end{thebibliography}