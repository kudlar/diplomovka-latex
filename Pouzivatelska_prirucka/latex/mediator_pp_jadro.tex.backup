%%
\section{Funkcia programu}

Program Mediátor je implementáciou aplikaèného rámca pre problém sprostredkovania správ v protokole IPFIX 
\emph{(IP Flow Information Export (IPFIX) Mediation Problem)} vyvíjaný výskumnou skupinou MONICA sídliacou
v Laboratóriu poèítaèových sietí \emph{(CNL)} na Technickej Univerzite v Ko¹iciach. Je súèas»ou meracej
architektúry SLAmeter, ktorej úlohou je pasívne meranie parametrov sie»ovej prevádzky na báze tokov. 
Na základe nameraných hodnôt urèuje triedu kvality slu¾ieb a Internetového pripojenia poskytovateµov 
Internetu. Trieda kvality vypovedá o dodr¾iavaní zmluvy o úrovni poskytovanej slu¾by - \emph{SLA}.

Komponentmi architektúry IPFIX (IP Flow Information Export) podµa RFC 5470 \citep{rfc5470}
sú exportéry a kolektory komunikujúce protokolom IPFIX.
Vzhµadom k trvalému rastu IP prevádzky v heterogénnych sie»ových prostrediach,
tieto exportér-kolektor systémy mô¾u vies» k problémom ¹kálovateµnosti. Naviac,
neposkytujú flexibilitu potrebnú pre ¹iroký rad meracích aplikácii.

Sprostredkovateµské moduly Mediátora mô¾u z pohµadu manipulácie s dátami poskytova» agregáciu, koreláciu,
filtrovanie, anonymizáciu 
a iné úpravy záznamov o tokoch za úèelom ¹etrenia výpoètových zdrojov meracieho systému a vykonávania 
predspracovania úloh pre kolektor. Z hµadiska interoperability nástrojov rôznych vývojárov, mô¾u 
poskytova» konverziu z iných protokolov na IPFIX, respektíve zvy¹ova» spoµahlivos» exportov
napríklad prevodom z nespoµahlivého, bezspojovo orientovaného protokolu UDP na spoµahlivý SCTP. 

Program bol v roku 2013 vytvorený Rastislavom Kudlom v rámci jeho diplomovej práce.



\newpage
\section{S\'upis obsahu dod\'avky}

Program je dodávaný na jednom in¹talaènom CD médiu (Príloha C - CD), ktoré obsahuje nasledujúce súèasti:

\begin{itemize}
 \item zdrojové súbory programu
 \item samostatne spustiteµné binárne súbory
 \item kni¾nice potrebné pre funkènos» programu
 \item DEB in¹talaèný balík
 \item dokumentáciu zlo¾enú z:
	\subitem diplomovej práce (PDF,  \LaTeX)
	\subitem systémovej príruèky (PDF, \LaTeX)
	\subitem tejto pou¾ívateµskej príruèky (PDF, \LaTeX)
\end{itemize}



\newpage
\section{In\v{s}tal\'acia programu}



\subsection{Po\v{z}iadavky na technick\'e prostriedky}

Spoµahlivý beh samotného programu si vy¾aduje nasledovnú hardvérovú konfiguráciu:
\begin{itemize}
  \item CPU Intel Pentium III 1Ghz alebo ekvivalent
  \item operaèná pamä» 256MB 
  \item pevný disk s~1GB a viac voµného miesta 
  \item sie»ová karta 100Mbit/s 
\end{itemize}
Program pre spoµahlivý beh vy¾aduje minimálne 32MB voµnej pamäte RAM. Nain¹talovaný program zaberá 
pribli¾ne 3.9MB na pevnom disku. Uvedené voµné miesto na pevnom disku je potrebné, kvoli logovacim vystupom.
Je potrebné si uvedomi», ¾e pri prepinaci \verb|--logtofile| program loguje do /var/log/mediator/ a pri 
nastavenej úrovni logovania DEBUG, mô¾u logovacie súbory ma» znaènú veµkos». Pri dosiahnutí veµkosti 100MB 
sa obsah log súboru zálohuje a skomprimuje. Archivuje sa posledných 10 rotácií (1GB log výstupu).
Monitorovanie rozsiahlej¹ej siete (napr. sie» poskytovateµa komunikaèných slu¾ieb) si vy¾aduje podstatne 
vy¹¹ie hardvérové nároky.



\subsection{Po\v{z}iadavky na programov\'e prostriedky}
\begin{itemize}
\item operaèný systém GNU/Linux s~verziou jadra 2.6 a vy¹¹ou
\item Java Runtime Environment (JRE) verzie 1.7.0\_03 a~vy¹¹ej
\item kni¾nice dodávané na in¹talaènom médiu
\end{itemize}



\subsection{Vlastn\'a in\v{s}tal\'acia}

Vlastná in¹talácia sa skladá z~in¹talácie DEB balíka v~prostredí operaèného systému Ubuntu alebo Debian. 
V~prostredí iného operaèného systému in¹talácia pozostáva z~nakopírovania spustiteµného Java archívu 
(\verb|mediator.jar|) do~prieèinka podµa vlastnej voµby spoloène s~adresárom kni¾níc. Následne treba do 
tohto prieèinka nakopírova» súbor popisujúci podporované informaèné elementy protokolu IPFIX programom 
Mediator (\verb|ipfixFields.xml|) a uká¾kový konfiguraèný súbor (\verb|config.xml|), ktorý je 
potrebné upravi» pre vlastné prostredie meraní. 




\subsubsection{In\v{s}tal\'acia Java 7 pod OS Ubuntu/Debian}

\verb|sudo apt-get update|\\
\verb|sudo apt-get install openjdk-7-jre-headless|



\subsubsection{In\v{s}tal\'acia samotnej aplik\'acie Mediator pod OS Ubuntu/Debian}

Instalacia je velmi jednoducha. Staci stiahnut in¹talaèny DEB balík zo SVN repozitára:

\verb|wget https://svn.cnl.tuke.sk/monica/BasicMeter/Mediator/deb/mediator| \\
\verb|_1.0_i386.deb --no-check-certificate|

Spusti» stiahnutý DEB balík pomocou príkazu

\verb|sudo dpkg -i mediator_1.0_i386.deb|

Nakoniec je potrebne nastavenie konfiguraèného súboru \verb|/etc/mediator/config.xml|. Najdôle¾itej¹ie 
je nastavi» spravny port, na ktorom bude Mediator ocakavat IPFIX spravy a parametre exportovacieho procesu.
Nemenej dolezita je konfiguracia sprostredkovateslkych procesov.




\newpage
\section{Pou\v{z}itie programu}

Mediator je konzolová aplikácia. Spustenie programu na operaèných systémoch Ubuntu/Debian pri in¹talácii 
pomocou DEB balíka je nasledovné:
\begin{center}
\texttt{mediator [/cesta/ku/konf./súboru/config.xml] [--logtofile]}\\
\end{center}

Ak sa nezadá cesta ku konfiguraènému súboru, resp. subor sa na zadanej ceste nenachadza, aplikácia 
oznami tuto situaciu pouzivatelovi a 
automaticky hlada konfiguracny subor v \verb|/etc/mediator/config.xml|. Ak konfiguraèný
súbor nie je nájdený ani na vychodiskovom mieste, aplikácia skonèí s~chybovým hlásením.  

Ak zadáme nepovinný argument \verb|--logtofile|, výstup programu bude presmerovaný do log súboru
\begin{center}
\texttt{/var/log/mediator/YYYYMMDD-HHmmss/mediator.log } ,
\end{center}
kde Y-rok, M-mesiac, D-deò, H-hodina, m-minúta, s-sekunda spustenej in¹tancie programu Mediator.


\bigskip
Ak pou¾ívateµ nie je root, je potrebné ma» v~systéme pridelené sudo právo a Mediator spusti» príkazom:

\begin{center}
\texttt{sudo mediator [/cesta/ku/konf./súboru/config.xml] [--logtofile]}\\
\end{center}

\bigskip
Tak ako väè¹ina aplikácií v~prostredí operaèného systému Linux, aj Mediator má k~dispozícii manuálové 
stránky (man), ktoré je mo¾né zobrazi» pomocou príkazov:

\begin{center}
\texttt{man mediator}\\
\end{center}

\begin{center}
\texttt{man mediator\_config}\\
\end{center}

\bigskip
V~prostredí iného operaèného systému ako Ubuntu/Debian, alebo pri potrebe manuálneho spustenia, sa 
program spú¹»a pomocou Java interpretéra s~voliteµným parametrom pozostávajúcim z~cesty (relatívnej alebo 
absolútnej) ku konfiguraènému súboru a s volitelnym prepinacom \verb|--logtofile|:
\begin{center}
\texttt{java -jar mediator.jar [/cesta/ku/konf./súboru/config.xml] [--logtofile]}\\
\end{center}


Ïal¹ou podmienkou spustenia progrmau Mediator je súbor \emph{ipfixFields.xml}. Cesta k~tomuto súboru sa 
nastavuje v~konfiguraènom súbore \emph{config.xml}. Ak pri spustení sa súbor ipfixFields nenachádza 
v~adresári definovanom v~konfiguraènom súbore, aplikácia skonèí s~chybovým hlásením.
V~prípade absencie riadku s~cestou k~\emph{ipfixFields.xml} v~konfiguraènom súbore, Mediator automaticky 
predpokladá túto cestu: \texttt{/etc/mediator/ipfixFields.xml}. 
Ak sa ani tu XML súbor nenachádza, Mediator ukonèí svoju èinnos». Bez tohto súboru nie je mo¾né rozpozna» 
údaje z~prijatých IPFIX paketov.




\subsection{Popis dial\'ogu s~pou\v{z}\'ivate\v{l}om}

Ked¾e program je konzolová aplikácia, neposkytuje ¾iadne grafické zobrazenie dialógu pre pou¾ívatela. 
Chybové a informacné hlásenia sú zobrazované v~rovnakej konzole v~ktorej bol program spustený, prípadne 
v~log súbore ak bol program spustený s~voliteµným argumentom \verb|--logtofile|.

Ukonèenie programu sa vykoná stlaèením kombinácie kláves \emph{CTRL + C} alebo poslaním signálu 
\emph{SIGTERM} alebo \emph{SIGINT} konkrétnemu procesu:
\begin{center}
\texttt{kill -SIGTERM pid\_procesu\_mediator}\\
\end{center}




\subsection{Popis konfigura\v{c}n\'eho s\'uboru}

Vychodiskovy adresar, kde sa nachadza konfiguracny subor je \verb|/etc/mediator/|. Jednotlivé konfiguraèné 
parametre sa triedia podµa typu modulov, ktorých sa nastavenia týkajú. Tieto typy ako aj zoznam v¹etkých 
mo¾ných parametrov, ich popis, ¹tandardné hodnoty a mo¾né voµby sa nachádzajú v~tabuµkách 
\ref{tbl:conf1}, \ref{tbl:conf2}, \ref{tbl:conf3} a \ref{tbl:conf4}. V~prípade, ¾e daná hodnota pre 
akýkoµvek parameter nie je uvedená v~konfiguraènom súbore, parameter sa nastaví na ¹tandardnú hodnotu. 
Uká¾kový konfiguraèný súbor na in¹talaènom médiu obsahuje pribli¾né popisy parametrov a ich ¹tandardné 
hodnoty. 
Parameter sa zapisuje vo formáte: 
\begin{center}
\verb|<meno_parametra>hodnota</meno_parametra>|\\
\end{center}
Vynimku tvori len konfiguracia sprostredkovatelskych procesov. Tie sa zapisuju vo formate:\\
\verb|  <process name="ExampleProcess">|\\
\verb|    <input>exporter</input>|\\
\verb|  </process>|\\

Konfiguraèný súbor mô¾e obsahova» komentár, ktorý musí by» ohranièený znakmi: 
\begin{center}
\texttt{$<$!-- komentár --$>$ }\\
\end{center}



\begin{sidewaystable}[ht]
\tabcolsep=4pt 
\caption{Voµby konfiguraèného súboru 1}
\renewcommand{\arraystretch}{0.3}
\begin{center}
  \begin{tabular}{|p{4.1cm}|p{2.6cm}|p{7.4cm}|p{7.5cm}|}
% {|p{2cm}|p{1.7cm}|p{4cm}|p{4cm}|}
    \hline
    \textbf{Parameter} & \textbf{©tandardná hodnota}  & \textbf{Prípustné hodnoty}  & \textbf{Popis}\\
    \hline
    \hline
    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} V¹eobecné nastavenia celého programu (global)} \\
    \hline
    logLevel & ERROR & ALL, DEBUG, INFO, WARN, TRACE, ERROR, FATAL, OFF & úroveò logovania programu\\
    \hline
    ipfixFieldsXML & /etc/mediator/\newline ipfixFields.xml & platná cesta v~rámci súborového systému & 
    cesta k~XML súboru popisujúceho IPFIX informaèné elementy\\
    \hline
    ipfixTemplateTimeout & 300 & prirodzené celé èíslo väè¹ie ako 0 & èas, po ktorom sa èablóna pre IPFIX 
    paket pova¾uje za neplatnú\\
    \hline  
    observationDomainID & 1 & prirodzené celé èíslo väè¹ie ako 0 & ID pozorovacej domény\\
    \hline  
    \hline  
    
    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} Zhroma¾ïovací modul (collecting)} \\
    \hline
    listenPort & 6666 &  prir. èíslo z~intervalu $<$0-65535$>$  (kt. nie je obsadené) & port, na ktorom 
    be¾í vlákno èítajúce dáta zo siete\\
    \hline 
    receiveUDP  & yes & yes, no & príjem pomocou transportného protokolu UDP\\
    \hline
    \hline
    
    \multicolumn{4}{|c|}{} \\
    \multicolumn{4}{|c|}{\textbf{Modul:} Modul pre sprostredkovateµské procesy (processes)} \\
    \hline
    name & -- & alfanumerické znamky & meno sprostredkovateµského procesu (názov jeho hlavnej triedy v 
    baliku IntermediateProcesses)\\
    \hline
    input & -- & exporter, alfanumericke znaky & nazov procesu, od ktorého tento proces prijíma záznamy o 
    tokoch. hodnota je buï exporter, alebo akýkoµvek sprostredkovateµský proces - jeho \uv{name}  \\
    \hline
   \end{tabular}
  \label{tbl:conf1}
\end{center}
\end{sidewaystable}



\begin{sidewaystable}[ht]
\tabcolsep=4pt 
\caption{Voµby konfiguraèného súboru 3}
\renewcommand{\arraystretch}{0.3}
\begin{center}
  \begin{tabular}{|p{3cm}|p{2.3cm}|p{8cm}|p{8cm}|}
% {|p{2cm}|p{1.7cm}|p{4cm}|p{4cm}|}
    \hline
    \textbf{Parameter} & \textbf{©tandardná hodnota}  & \textbf{Prípustné hodnoty}  & \textbf{Popis}\\
    \hline
    \hline

    \multicolumn{4}{|c|}{\textbf{Modul:} Exportovací proces (exporting)} \\
    \hline
    version & 10 & 10 & verzia IPFIX protokolu\\
    \hline
    host & 127.0.0.1 & názov alebo IP adresa kolektora/ineho mediatora & IPFIX kolektor/mediator\\
    \hline
    port & 4739 & prir. èíslo z~intervalu $<$0-65535$>$  (kt. nie je obsadené) & port, na ktorom pocuva 
    kolektor/iny mediator\\
    \hline
    protocol & UDP & UDP & názov transportného protokolu\\
    \hline
    refreshTemplateTime & 5 & prirodzené celé èíslo väè¹ie ako 0 & èas (s) po ktorom Mediator exportuje 
    príslu¹nú ¹ablónu (ak sa nastaví vy¹¹ia hodnota ako je v exportéri, tak reálne platí hodnota daná 
    exportérom)\\
    \hline
    exportTime & bm & re»azec udávajúci heslo & heslo do databázy PostgreSQL\\
    \hline 
  \end{tabular}
  \label{tbl:conf3}
\end{center}
\end{sidewaystable}





\clearpage

\subsection{Popis spr\'av pre syst\'emov\'eho program\'atora}
V~dodanej verzii JXColl sa zmenil aj spôsob zobrazovania správ. Logovací subsystém v¹ak zostal nedotknutý. Správy oproti starej verzie programu sú teraz prehµadnej¹ie a krat¹ie.

Poèas behu programu sa vypisujú rôzne hlásenia od chybových a¾ po informaèné. Logovací
subsystém programu je mo¾né inicializova» rôznymi úrovòami. Ich popis je uvedený
v~tabuµke~\ref{tbl:log}. Ka¾dá úroveò zahàòa v~sebe aj úrovne na ni¾¹om stupni, tak¾e napr. pre úroveò
ERROR sa budú zobrazova» aj hlásenia typu FATAL. Na reálnu prevádzku je vhodné nastavi» úroveò ERROR.

\begin{table}[ht]
\tabcolsep=4pt  
\caption{Logovacie úrovne programu}
\begin{center}
  \begin{tabular}{|l|p{11cm}|}
    \hline
    \textbf{Typ hlásenia} & \textbf{Popis}\\
    \hline
    ALL & vypisuje sa v¹etko\\
    \hline
    DEBUG & zobrazujú sa kompletné výpisy celého diania v~programe\\
    \hline
    INFO  & program informuje o~svojej èinnosti a~akcii, INFO ktorú práve vykonáva\\
    \hline
    WARN  & vypí¹u sa informácie o~upozorneniach programu na mo¾né chyby alebo zlú interpretáciu vstupných dát\\
    \hline
    TRACE & zobrazia sa informácie o~stave programu\\
    \hline
    ERROR & sú vypísané hlásenia chýb majúcich vplyv na dáta\\
    \hline
    FATAL & hlásenia, ktoré sú pre beh programu smrteµné a~zvyèajne znamenajú nezotaviteµnú chybu programu\\
    \hline
    OFF & vypnú sa v¹etky hlásenia programu\\
    \hline
  \end{tabular}
 \end{center}

  \label{tbl:log}
\end{table}

\section{Obmedzenia programu}

Program sa bude na pomal¹ích poèítaèoch jednoznaène pomal¹ie spú¹»a», keï¾e Java je jazyk
interpretovaný a~be¾iaci vo vlastnom virtuálnom stroji. Rýchlos» programu tie¾ závisí na mno¾stve prijatých dát.
Ïal¹ie obmedzenie je dané schémou databázy, ktorá je vopred daná, a~pre jej zmenu je nutné zmeni» aj samotný zdrojový kód. 

\newpage
\section{Chybov\'e hl\'asenia}

Poèas pou¾ívania programu mô¾e dôjs» k~nasledujúcim chybám. Èasové známky boli odstránené kvôli zvý¹eniu prehµadnosti.

\noindent \textbf{Chyba:}
\begin{verbatim}
DEBUG [main] DBExport  - 
Connecting to postgres@jdbc:postgresql://127.0.0.3:5432/bm... 

ERROR [main] DBExport  - 
Connection refused. Check that the hostname and port are correct and
that the postmaster is accepting TCP/IP connections.

INFO [main] DBExport  - 
Login failed. org.postgresql.util.PSQLException: Connection refused. Check
that the hostname and port are correct and that
the postmaster is accepting TCP/IP connections. SQL error

INFO [main] DBExport  - 
Login failed. org.postgresql.util.PSQLException: FATAL: password authentication
failed for user "postgres" SQL error
\end{verbatim}
\textbf{Popis a~rie¹enie:}
V~týchto prípadoch sa JXColl nedoká¾e napoji» na databázu. Buï je zle zadaná adresa, port
servera, prihlasovacie údaje alebo je spojenie blokované/nefunkèné.\\

\noindent \textbf{Chyba:} 
\begin{verbatim}
INFO  [main] Config  - Loading config file: /zla/cesta/k/jxcoll_config.xml
ERROR [main] Config  - Could not load config file: /zla/cesta/k/jxcoll_config.xml !
\end{verbatim} 
\textbf{Popis a~rie¹enie:}
Nie je mo¾né naèíta» konfiguraèný súbor. Treba sa uisti», èi súbor /etc/jxcoll/jxcoll.conf existuje, alebo èi je k~nemu správne zadaná cesta.

\noindent \textbf{Chyba:}
\begin{verbatim}
FATAL [main] IpfixElements  - XML file "/etc/jxcoll/ipfixFields.xmla" 
	was not found!
FATAL [main] JXColl  - JXColl could not start because of an error while 
	processing XML file!
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Nena¹iel sa ipfixFields.xml súbor, ktorý slú¾i na rozpoznanie údajov z~IPFIX paketu. 
Treba sa uisti», èi sa súbor nachádza v~prieèinku definovanom v~konfiguraènom súbore alebo v~predvolenej ceste (/etc/jxcoll/ipfixFields.xml).\\

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [ACP Thread 4] ACPIPFIXWorker  - IO EXCEPTION :null
DEBUG [ACP Thread 4] ACPIPFIXWorker  - Closing connection in try-catch
\end{verbatim}
\textbf{Popis a~rie¹enie:}
V~tomto prípade modul, ktorý pou¾íva protokol ACP na priame sprístupnenie nameraných dát, neèakane preru¹il spojenie. JXColl sa automaticky zotaví
a~bude naïalej èaka» pripojenie cez protokol ACP.\\

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [UDP Processor] DBExport  - Check if is DB connected failed:
java.lang.NullPointerException
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Poèas spracovania údajov sa do¹lo k~preru¹ení spojenia s~databázou. Treba sa uisti», èi chyba nenastala v~spojení.\\

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [Net Parser] RecordDispatcher  - Element with ID: 74 is not supported, 
	skipped! Update XML file!
\end{verbatim}
\textbf{Popis a~rie¹enie:}
Poèas spracovania údajov sa narazilo na nepodporovaný informaèný element. JXColl tento element preskoèí.
Treba aktualizova» XML súbor ipfixFields.xml o~informácie o~tomto elemente, prípadne doimplementova» jeho podporu v~JXColl.\\

\newpage
\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [UDP Processor] RecordDispatcher  - i.e. 'icmpTypeCodeIPv6' (unsigned16) - 
	received data has wrong datatype! (10 bytes)
ERROR [UDP Processor] RecordDispatcher  - Skipping this element DB exportation!

\end{verbatim}
\textbf{Popis a~rie¹enie:}
Poèas spracovania údajov sa narazilo na informaèný element, ktorého veµkos» nekore¹ponduje s~oèakávaným dátovým typom podµa XML súboru. 
JXColl tento element preskoèí. Nápravu je nutné vykona» pravdepodobne na strane exportéra.\\

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [UDP Processor] RecordDispatcher  - "i.e. 'subTemplateMultiList' - 
	Cannot decode datatype: subTemplateMultiList
ERROR [UDP Processor] RecordDispatcher  - Skipping this element DB exportation!

\end{verbatim}
\textbf{Popis a~rie¹enie:}
Poèas spracovania údajov sa narazilo na informaèný element, ktorého dátový typ JXColl nevie dekódova». 
JXColl tento element preskoèí. Nápravu je nutné vykona» na strane JXColl.

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [TCP Processor] IpfixParser  - Field data is longer than remaining bytes in Data Set!
ERROR [TCP Processor] IpfixParser  - Corrupted data detected! Shutting down TCP connection to IP:port

ERROR [TCP Processor] IpfixParser  - Template Set is not long enough to hold all field specifiers!
ERROR [TCP Processor] IpfixParser  - Corrupted data detected! Shutting down TCP connection to IP:port

ERROR [TCP Processor] IpfixParser  - Options Template has field count set to 0!
ERROR [TCP Processor] IpfixParser  - Corrupted data detected! Shutting down TCP connection to IP:port

ERROR [TCP Processor] IpfixParser  - Message length (20) is not as stated in header (630)!
ERROR [TCP Processor] IpfixParser  - Corrupted data detected! Shutting down TCP connection to IP:port

ERROR [TCP Processor] IpfixParser  - Set states that it is longer than remaining data part is!!
ERROR [TCP Processor] IpfixParser  - Corrupted data detected! Shutting down TCP connection to IP:port

\end{verbatim}
\textbf{Popis a~rie¹enie:}
Poèas príjmu údajov cez protokol TCP boli prijaté chybné dáta, spojenie sa uzatvára a vlákno konèí. Chyba bola spôsobená na strane exportéra
poslaním po¹kodených dát. Tieto chybové správy platia a majú rovnaký význam aj pre protokol SCTP. Chyba bola spôsobená exportérom.

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [TCP Processor] IpfixParser  - Attempt to withdraw Template #267, OD:0, 
	which does not exist in cache!
ERROR [TCP Processor] IpfixParser  - Shutting down TCP connection to IP:port

\end{verbatim}
\textbf{Popis a~rie¹enie:}
Poèas príjmu údajov cez protokol TCP bola prijatá správa Template Withdrawal Message, ktorá ru¹í u¾ predtým zru¹enú alebo neexistujúcu ¹abl\'onu.
Správa sa zahodí, spojenie sa násilne uzavrie (RST) a vlákno konèí. Rovnaký význam platí aj pre protokol SCTP. Chyba bola spôsobená exportérom.

\noindent \textbf{Chyba:}
\begin{verbatim}
ERROR [TCP Processor] IpfixParser  - Template #267 is already in cache!
ERROR [TCP Processor] IpfixParser  - Shutting down TCP connection to IP:port

\end{verbatim}
\textbf{Popis a~rie¹enie:}
Ide o~pokus o~pridanie ¹abl\'ony do cache, ktorá tam u¾ existuje.
Správa sa zahodí, spojenie sa násilne uzavrie (RST) a vlákno konèí. Rovnaký význam platí aj pre protokol SCTP.
Chyba bola spôsobená exportérom.


\noindent \textbf{Chybové hlásenia súvisiace s~Java Virtual Machine (JVM)}\\
\noindent Program je interpretovaný v~Java Virtual Machine.
Chyby, ktoré mô¾u nasta» a~nie sú o¹etrené vlastnými chybovými hláseniami programu sú
chyby, ktoré boli nepredvídané a~sú µahko rozoznateµné tým, ¾e nie sú formátované v~¹týle
loggera a~zvyèajne sú oznaèené ako Java Error alebo Exception. Obyèajne sa vypí¹e aj èas»
zásobníka. Be¾ne sú to tri riadky v~hierarchii volania danej metódy, ktorá takto zlyhala.
Takéto chyby znamenajú po¹kodenie funkcie programu a~je nutné ho re¹tartova». Chybu je
mo¾né opravi» len v~zdrojovom kóde, teda sa berie ako programátorská chyba.\\

\noindent \textbf{Opis známych chýb}\\
\noindent V~súèasnosti neboli v~JXColl nájdené vá¾ne chyby.


\newpage
\section{Pr\'iklad pou\v{z}itia}

Program je mo¾né primárne pou¾i» v~spojení so zariadením alebo so softvérom, ktorý je schopný
exportova» informácie o~tokoch v~sieti vo formáte IPFIX. Takéto zariadenie mô¾e
by» napr. Cisco router schopný exportu IPFIX dát alebo z~modulov BasicMetra napríklad BEEM.
Analyzujúca aplikácia je primárne zastúpená BMAnalyzer-om, a~v~princípe mô¾e to by» softvér,
ktorý doká¾e spracováva» údaje získané buï prostredníctvom protokolu ACP, alebo z~databázy.
Po úprave vkladacieho SQL re»azca v~zdrojovom kóde je mo¾né JXColl prispôsobi»  aj k~schéme inej databázy.

\clearpage
\addcontentsline{toc}{section}{\numberline{}Zoznam pou¾itej literatúry}
\begin{thebibliography}{999}

\harvarditem{Sadasivan, et al.}{2009}{rfc5470}
SADASIVAN, G. et al.: \emph{Architecture for IP Flow Information Export} 
RFC 5470. 2009



% [1]  Ko¹èo, M.: Opis sie»ových protokolov prostredníctvom jazyka XML, 2005,
% Diplomová práca, KPI FEI TU, Ko¹ice
% 
% [2]  Ka¹èák, M.: Príspevok k~problematike aplikaèného vyu¾itia meraní prevádzkových parametrov poèítaèových sietí, 2007,
% Diplomová práca, KPI FEI TU, Ko¹ice
% 
% [3]  Pekár, A.: Meranie prevádzkových parametrov siete v~reálnom èase, 2009,
% Bakalárska práca, KPI FEI TU, Ko¹ice
% 
% [3]  Vere¹èák, T.: Zhroma¾ïovací proces nástroja BasicMeter, 2010,
% Bakalárska práca, KPI FEI TU, Ko¹ice
% 
% [4]  Pekár, A.: Optimalizácia zhroma¾ïovacieho procesu nástroja BasicMeter, 2011,
% Diplomová práca, KPI FEI TU, Ko¹ice
\end{thebibliography}